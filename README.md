![](https://event.livehouse.in/straas.io/admintool/images/logo.png)

**StraaS.io - Streaming as a Service, Your Best OTT Solution**

World-class streaming and advertisement technology to drive profit and provide best multi-screen,
multi-device user experiences.

The Enigma API
====================

Enigma provides transcoding as a service. She converts the source media content to the easily distributed format. 


Making a request
----------------

All URLs start with `https://tx.straas.net/api/v1/`. **SSL only**. The path is prefixed with the API version.
If we change the API in backward-incompatible ways, we'll bump the version marker and maintain stable support for the old URLs.

That's all!


Authentication
--------------

Please refer [Authentication wiki](https://github.com/StraaS/StraaS-web-document/wiki/Authentication). You should use `application token` to accees Enigma API.

Given `client_id` and `client_secret`, the `application token` could be generated by below **POST** request

```
curl -X POST --header 'Content-Type: application/json' \
--header 'Accept: application/json' \
-d '{"client_id":<YOUR_CLIENT_ID>,"client_secret":<YOUR_CLIENT_SECRET>}' \
'https://cms.straas.io/api/v1/app/token'
```

If success, the response will be like as below

```
{
  "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcHBfaWQiOjg4MywiZXhwIjoxNDY4NTcyNDMyfQ.mfSXrlBtGLckF3X3Ig5sCH-wX2-9grOpXw0BOsM_PWs"
}
```

Then you should use the token to access all Enigma API by setting HTTP header `Authorization` to the token. 


Handling errors
---------------

If Enigma is having trouble, you might see a 5xx error. 
`500` means that the app is entirely down, but you might also see `502 Bad Gateway`, `503 Service Unavailable`, or `504 Gateway Timeout`.
It's your responsibility in all of these cases to retry your request later. 


Rate limiting
-------------

You can perform up to 500 requests per 10 second period from the same IP address for the same account. 
If you exceed this limit, you'll get a [429 Too Many Requests](http://tools.ietf.org/html/draft-nottingham-http-new-status-02#section-4) response for subsequent requests.
Check the `Retry-After` header to see how many seconds to wait before retrying the request.


API ready for use
-----------------

* [Control](https://github.com/StraaS/StraaS-stream-service/blob/master/sections/control.md)
* [Event](https://github.com/StraaS/StraaS-stream-service/blob/master/sections/event.md)
* [Monitor](https://github.com/StraaS/StraaS-stream-service/blob/master/sections/monitor.md)

